<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Schmitt OdyssÃ©e - Vue CamÃ©ra</title>
</head>

<body>
    <div class="container">
        <button class="sound-toggle" id="soundToggle">ğŸ”Š</button>

        <div class="header">
            <h1>ğŸ›ï¸ Schmitt OdyssÃ©e ğŸ›ï¸</h1>
            <p>La victoire n'est qu'ivresse du jeu !</p>
        </div>

        <div class="game-area">
            <!-- Zone du plateau avec camÃ©ra -->
            <div id="boardCamera" class="board-camera-container"></div>

            <div class="sidebar">
                <div class="panel">
                    <h2>Joueurs</h2>
                    <div class="player-list" id="playerList"></div>
                </div>

                <div class="panel">
                    <h2>ContrÃ´les</h2>
                    <div class="dice-result" id="diceResult">ğŸ²</div>
                    <div class="controls">
                        <button class="btn btn-primary" id="rollDiceBtn">Lancer le dÃ©</button>
                        <button class="btn btn-primary" id="resetBtn" style="background: #e74c3c;">Nouvelle partie</button>
                    </div>
                </div>

                <div class="panel">
                    <h2>Historique</h2>
                    <div class="history-panel" id="historyPanel"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de configuration -->
    <div class="setup-screen" id="setupScreen">
        <div class="setup-panel">
            <h2>Configuration de la partie</h2>

            <div class="form-group">
                <label>Plateau de jeu</label>
                <select id="mapSelect" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd; font-size: 14px;">
                    <option value="default">Plateau par dÃ©faut</option>
                </select>
                <div style="margin-top: 8px; display: flex; gap: 8px;">
                    <button type="button" class="btn" id="importMapBtn" style="flex: 1; padding: 8px; font-size: 12px; background: #6c757d;">
                        Importer JSON
                    </button>
                    <a href="/index-editor.html" class="btn" style="flex: 1; padding: 8px; font-size: 12px; background: #17a2b8; text-align: center; text-decoration: none; color: white; border-radius: 8px;">
                        Ã‰diteur
                    </a>
                </div>
            </div>

            <div class="form-group">
                <label>Nombre de joueurs (2-10)</label>
                <input type="number" id="playerCount" min="2" max="10" value="4">
            </div>
            <div class="player-inputs" id="playerInputs"></div>
            <button class="btn btn-primary" id="startGameBtn" style="width: 100%;">Commencer la partie</button>
        </div>
    </div>

    <!-- Modal d'effets -->
    <div class="modal" id="effectModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="tile-effect-icon" id="effectIcon"></div>
            <h2 id="effectTitle"></h2>
            <p id="effectDescription"></p>
            <div id="effectInteraction"></div>
            <div class="modal-actions">
                <button class="btn btn-primary" id="effectOkBtn">OK</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Ã‰cran de victoire -->
    <div class="victory-screen" id="victoryScreen">
        <div class="victory-content">
            <h1>ğŸ‰ VICTOIRE ! ğŸ‰</h1>
            <div class="winner-name" id="winnerName"></div>
            <div class="stats-grid" id="statsGrid"></div>
            <button class="btn btn-primary" onclick="location.reload()"
                    style="margin-top: 20px; font-size: 1.2em;">Nouvelle partie</button>
        </div>
    </div>

    <!-- Script TypeScript (Vite le transformera automatiquement) -->
    <script type="module" src="/src/camera/main-camera.ts"></script>
</body>
</html>
